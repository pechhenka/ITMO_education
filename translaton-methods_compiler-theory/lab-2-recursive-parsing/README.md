# Лабораторная работа No2. Ручное построение нисходящих синтаксических анализаторов

###### Вариант 5

Задание: Логические формулы.
Используются операции &, |, ^, !.
Приоритет операций стандартный.
Скобки могут использоваться для изменения приоритета.
В качестве операндов выступают переменные с именем из одной буквы.
Используйте один терминал для всех переменных.
Для каждой логической операции должен быть заведен один терминал.

Пример: (!a | b) & a & (a | !(b ^ c))

### Шаг 1. Разработка грамматики

Приоритет логических операций:

1. ! - Инверсия
2. & - конъюнкция
3. | и ^ - дизъюнкция и строгая дизъюнкция

Исходя из приоритетов построим грамматику:

D -> C -> D

```
D -> D | C
D -> D ^ C
D -> C
C -> C & I
C -> I
I -> !I
I -> F
F -> variable
F -> (D)
```

| Нетерминал | Описание           |
|------------|--------------------|
| D          | дизъюнкция и xor   |
| C          | конъюнкция         |
| I          | инверсия           |
| F          | операнд или скобки |

Данная грамматика точно не является LL(1) грамматикой из-за наличия в ней левой
рекурсии. [Устраним ее](https://neerc.ifmo.ru/wiki/index.php?title=Устранение_левой_рекурсии). Получится грамматика:

```
D  -> CD'
D' -> |CD'
D' -> ^CD'
D' -> ε
C  -> IC'
C' -> &IC'
С' -> ε
I  -> !I
I  -> F
F  -> var
F  -> (D)
``` 

Проверим что получилась LL(1) грамматика

| Нетерминал | FIRST      | FOLLOW         |
|------------|------------|----------------|
| D          | var ( !    | $ )            |
| D'         | ε &#124; ^ | $ )            |
| C          | var ( !    | $ ) &#124; ^   |
| C'         | ε &        | $ ) &#124; ^   |
| I          | var ( !    | $ ) & &#124; ^ |
| F          | var (      | $ ) & &#124; ^ |

### Шаг 2. Построение лексического анализатора

Сопоставим терминалам токены:

| Терминал | Токен    |
|----------|----------|
| (        | LBRACKET |
| )        | RBRACKET |
| &#124;   | OR       |       
| ^        | XOR      |
| &        | AND      |
| !        | INVERSE  |
| var      | VARIABLE |
| $        | END      |

Модификация: поддержать не однобуквенные переменные